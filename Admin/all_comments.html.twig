{# src/AppBundle/Resources/views/Admin/allComments.html.twig #}

{% extends "layout_admin.html.twig" %}

{% block title %}
  All Comments - {{ parent() }}
{% endblock %}

{% block body %}

<div class="content-wrapper py-3">
<div class="container-fluid" style="text-align: center;">

  <!-- Breadcrumbs -->
  <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{{ path('admin_home')}}">Dashboard</a></li>
      <li class="breadcrumb-item active">Commentaires</li>
  </ol>
  <h2>les commentaires</h2>

<p>Nombre de commentaires: {{ countComment }} </p>
  <!-- <ul>
    {% for comment in allComments %}
      <li style="text-decoration: none; font-size:20px;">
        <a href="{{ path('comment_view', {'id': comment.id}) }}">
          {{ comment.author }}
        </a>
        <div style="color: blue">Par {{ comment.content }}</div>
        Le {{ comment.date|date('d/m/Y à H:i:s') }}
      </li>

    {% else %}
      <li> Non pas encore de commentaires</li>
    {% endfor %}
  </ul> -->


  <ul class="pagination">
  {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
  {% for p in range(1, nbPages) %}
    <li{% if p == page %} class="active"{% endif %}>
      <a href="{{ path('admin_comment', {'page': p}) }}">{{ p }}</a>
    </li>
  {% endfor %}
</ul>
</div>
  <!-- Tables Card -->
  <div class="card mb-3">
      <div class="card-header">
          <i class="fa fa-table"></i> Donnée Table commentaires
      </div>
      <div class="card-block">
          <div class="table-responsive">
              <table class="table table-bordered" width="100%" id="dataTable" cellspacing="0">
                  <thead>
                      <tr>
                        <th>Identifiant</th>
                        <th>Relation</th>
                        <th>Pseudo</th>
                        <th>Commentaire</th>
                        <th>Date et heure</th>
                        <th>Modification</th>
                      </tr>
                  </thead>
                  <tfoot>
                      <tr>
                        <th>Identifiant</th>
                        <th>Relation</th>
                        <th>Pseudo</th>
                        <th>Commentaire</th>
                        <th>Date et heure</th>
                        <th>Modification</th>
                      </tr>
                  </tfoot>
                  <tbody>

                      {% for comment in allComments %}
                      <tr>
                        <td>{{ comment.id }}</td>
                        <td>{{ comment.witness == comment }}</td>
                        <td>{{ comment.author }}</td>
                        <td>{{ comment.content }}</td>
                        <td>{{ comment.date|date('d/m/Y à H:i:s') }}</td>
                        <td>{{ comment.updatedAt|date('d/m/Y à H:i:s') }}</td>

                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
          </div>
      </div>
  </div>
</div>
</div>


  <a class="btn btn-secondary" href="{{ path('admin_home') }}">Dashboard</a>
  <a class="btn btn-secondary" href="{{ path('core_home') }}">Retour à l'Accueil</a></h3>

{% endblock %}
