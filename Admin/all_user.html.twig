{# src/AppBundle/Resources/view/Admin/view.html.twig #}

{% extends "layout_admin.html.twig" %}

{% block title %}
  Lecture d'une fiche produit - {{ parent() }}
{% endblock %}

{% block body %}

<div class="content-wrapper py-3">
  <div class="container-fluid">

    <!-- Breadcrumbs -->
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ path('admin_home') }}">Dashboard</a></li>
        <li class="breadcrumb-item active">Users</li>
    </ol>
    <!-- Tables Card -->
    <div class="card mb-3">
        <div class="card-header" style="text-align:center;">
            <i class="fa fa-table"></i> Data Table Utilisateurs

            <p>Nombre d'utilisateurs: <strong>{{ countUser }}</strong></p>

            <ul class="pagination">
            {# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
            {% for p in range(1, nbPages) %}
              <li{% if p == page %} class="active"{% endif %}>
                <a href="{{ path('admin_user', {'page': p}) }}">{{ p }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
        <div class="card-block">
            <div class="table-responsive">
                <table class="table table-bordered" width="100%" id="dataTable" cellspacing="0">
                  <thead>
                      <tr>
                          <th>Id</th>
                          <th>Username</th>
                          <!-- <th>First name</th> -->
                          <!-- <th>Last name</th> -->
                          <th>Email</th>
                          <th>Dernière connexion</th>
                          <!-- <th>Updated</th> -->
                          <th>Prénom</th>
                          <!-- <th>Deleted</th> -->
                      </tr>
                  </thead>
                  <tfoot>
                      <tr>
                        <th>Id</th>
                        <th>Username</th>
                        <!-- <th>First name</th> -->
                        <!-- <th>Last name</th> -->
                        <th>Email</th>
                        <th>Dernière connexion</th>
                        <!-- <th>Updated</th> -->
                        <th>Prénom</th>
                        <!-- <th>Deleted</th> -->
                      </tr>
                  </tfoot>
                    <tbody>

                      {% for user in allUsers %}
                        <tr>
                            <td>{{ user.id }}</td>
                            <td>{{ user.username }}</td>

                            <td>{{ user.email }} </td>
                            <td>{{ user.lastLogin|date('d/m/Y à H:i:s') }} </td>

                            <td>{{ user.usernameCanonical }} </td>

                        </tr>

                      {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    </div>
  </div>
</div>

{% endblock %}
